oracle查询时间条件
  update CCS_PR_BUSINESS set stat='2' where creation_date >to_date('2017-06-29','yyyy-MM-dd')

oracle用法
select  LX，  
 CASE   
     WHEN LX='01' THEN '转收'  
     WHEN LX='02' THEN '转付'  
     end as ww  
    from 某个表  

select id,'ss'as type from whj1 查询用赋值新列算法

select (sysdate - Cast(systimestamp As DATE)) * 24 from dual;

oralce时间插入
insert into tabname(datecol) values(sysdate) ;  -- 用date值
insert into tabname(datecol) values(sysdate+1) ;  -- 用date值
insert into tabname(datecol) values(to_date('2014-02-14','yyyy-mm-dd')) ;  -- 用to_date
insert into tabname(datecol) values(to_date('2014-02-14 20:47:00','yyyy-mm-dd hh24:mi:ss')) ;  -- 用to_date
insert into tabname(datecol) values(to_date('20140214','yyyymmdd')) ;  -- 用to_date
insert into tabname(datecol) values(to_date('20140214204700','yyyymmddhh24miss')) ;  -- 用to_date

插入timestamp类型
insert into CCS_MSALE_NOTICE(NOTICE_ID,CONTENT,CREATION_DATE,LAST_UPDATE_DATE,ATTRIBUTE4) values(
111231,'AAAAAA',
to_date('2014-02-14','yyyy-mm-dd'),
to_timestamp('2013-9-16 17:03:00.29', 'yyyy-mm-dd hh24:mi:ss:ff3'),
111
)

------
oracle
增加一个字段：

alter table test1
add (name varchar2(30) default ‘无名氏’ not null);

 

使用一个SQL语句同时添加三个字段：

alter table test1
add (name varchar2(30) default ‘无名氏’ not null,

age integer default 22 not null,

has_money number(9,2)

);

 

修改一个字段

alter table test1
modify (name varchar2(16) default ‘unknown’);

 

另：比较正规的写法是：

-- Add/modify columns 
alter table TABLE_NAME rename column FIELD_NAME to NEW_FIELD_NAME;

 

删除一个字段

alter table test1
drop column name;

创建序列
create sequence seq_newsId
increment by 1
start with 1
maxvalue 999999999;



select seq_newsid.nextval from sys.dual;


修改列的注解comment on column CCS_MSALE_NOTICE.LAST_UPDATE_DATE is'日期精度'

plsql 直接查询并可以修改
select * from ccs_base_bsrelat b where b.bsets_of_books_id=20002 for update;


Oracle 查询库中所有表名、字段名、字段名说明，查询表的数据条数、表名、中文表名、

查询所有表名：
select t.table_name from user_tables t;
查询所有字段名：
select t.column_name from user_col_comments t;
查询指定表的所有字段名：
select t.column_name from user_col_comments t where t.table_name = 'BIZ_DICT_XB';
查询指定表的所有字段名和字段说明：
select t.column_name, t.column_name from user_col_comments t where t.table_name = 'BIZ_DICT_XB';
查询所有表的表名和表说明：
select t.table_name,f.comments from user_tables t inner join user_tab_comments f on t.table_name = f.table_name;
查询模糊表名的表名和表说明：
select t.table_name from user_tables t where t.table_name like 'BIZ_DICT%';
select t.table_name,f.comments from user_tables t inner join user_tab_comments f on t.table_name = f.table_name where t.table_name like 'BIZ_DICT%';

--查询表的数据条数、表名、中文表名
select a.num_rows, a.TABLE_NAME, b.COMMENTS
from user_tables a, user_tab_comments b
WHERE a.TABLE_NAME = b.TABLE_NAME
order by TABLE_NAME;


--压测的时候可以成倍插入数据库
insert into test_remote select * from test_remote;


----dblink 同义词 分布式数据库  driver_site  hint优化



oralce 获取表里面的所有注释

select * from user_col_comments where table_name = 'STUDENT';


oralce增加字段



oralce 批量插入yi
INSERT INTO gccsdb.CCS_MSALE_ITEM_CLASS
  select gccsdb.sq_CCS_MSALE_ITEM_CLASS.nextval,
         CREATED_BY,
         8326,
         GBRELA_ID,
         ITEM_CLASS_CODE,
         ITEM_CLASS_NAME,
         ITEM_CLASS_LEVEL,
         ITEM_CLASS_PID,
         SEQ,
         IS_END,
         ITEM_CLASS_TYPE,
         USABLE,
         IS_SYS,
         NOTE,
         CREATION_DATE,
         LAST_UPDATED_BY,
         LAST_UPDATE_DATE,
         ATTRIBUTE1,
         ATTRIBUTE2,
         ATTRIBUTE3,
         ATTRIBUTE4,
         ATTRIBUTE5,
         CAT_ID,
         PRO_LINE_ID
    from gccsdb.CCS_MSALE_ITEM_CLASS c
   where c.sets_of_books_id = 6120



查询一组数据并计算每个相同的数据有多少
  select vo.CUSTOMER_CODE, vo.ENTITY_ID, vo.sales_center_id, count(1)
          from gccsdb.vv_customer_org vo
         where vo.ENTITY_ID is not null
           and vo.sales_center_id is not null and vo.ACTIVE_FLAG = 'Active'
         group by vo.CUSTOMER_CODE, vo.ENTITY_ID, vo.sales_center_id having count(1) >1
法则：查询的数据，并按照查询数据分组，有多少加多少，然后最后用count（1）就行


按查询条件查询数据，取
第一条
select vo.* from gccsdb.vv_customer_org vo where vo.CUSTOMER_CODE='C0004539' and  vo.ENTITY_ID=10 and  vo.sales_center_id=180 and rownum=1;